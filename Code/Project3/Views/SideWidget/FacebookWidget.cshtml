@using Sitecore.Mvc
@using BGSitecore.Models.Teasers

@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<SocialWidget>

@if (Sitecore.Context.PageMode.IsExperienceEditor)
{
    <p>[Facebook Widget]</p>

    <p> Please edit facebook id : @Editable(Model, x => x.UserHandle)</p>
}

<h3> @Editable(Model, y => y.Title) </h3>

<div style="float:right; width:100%">
    <div id="fb-root"></div>
    <script>
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.12';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>



    @{
        var facebookUrl = "https://www.facebook.com/" + Model.UserHandle;
    }

    <div class="fb-page" data-href="@facebookUrl"
         data-tabs="timeline"
         data-small-header="false"
         data-adapt-container-width="true"
         data-hide-cover="false"
         data-show-facepile="true"
         data-height="400">
        <blockquote cite="@facebookUrl" class="fb-xfbml-parse-ignore">
            <a href="@facebookUrl">@Model.UserHandle</a>
        </blockquote>
    </div>
</div>
<hr />